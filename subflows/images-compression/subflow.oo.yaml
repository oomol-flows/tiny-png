nodes:
  - node_id: map#1
    title: "%map-1%"
    inputs_from:
      - handle: array
        from_node:
          - node_id: filter_files#1
            output_handle: files
    subflow: array::map
    slots:
      - slot_node_id: +slot#2
        slotflow: self::+slotflow#1
        inputs_def:
          - handle: destination_folder
            json_schema:
              type: string
              ui:widget: dir
            nullable: true
            executor_name: nodejs
        inputs_from:
          - handle: destination_folder
            from_flow:
              - input_handle: destination_folder
  - node_id: list_files_from_folder#1
    title: "%list-files-from-folder-1%"
    inputs_from:
      - handle: folder
        from_flow:
          - input_handle: folder
      - handle: sort
        value: false
      - handle: traverse
        value: false
      - handle: absolute_path
        value: true
    task: oomol-file::list_files_from_folder
  - node_id: filter_files#1
    title: "%filter-files-1%"
    inputs_from:
      - handle: files
        from_node:
          - node_id: list_files_from_folder#1
            output_handle: file_paths
      - handle: type
        value: image
      - handle: filt_hide
        value: true
    task: oomol-file::filter_files
inputs_def:
  - handle: folder
    description: "%source-folder-containing-images-to-compress%"
    json_schema:
      type: string
      ui:widget: dir
    nullable: false
    executor_name: nodejs
  - handle: destination_folder
    description: "%destination-folder-for-compressed-images-optional-defaults-to-so%"
    json_schema:
      type: string
      ui:widget: dir
    value:
    nullable: true
    executor_name: nodejs
outputs_def:
  - handle: array
    description: "Array of compressed image file paths"
    json_schema:
      type: array
      items:
        type: string
        ui:widget: file
    nullable: false
outputs_from:
  - handle: array
    from_node:
      - node_id: map#1
        output_handle: array
title: "%images-compression2%"
icon: ":carbon:image-copy:"
description: "%bulk-compress-images-in-a-folder-and-save-them-to-the-target-dir%"
